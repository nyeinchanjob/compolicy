<md-dialog ng-cloak>
  <form name="roleDetail">
    <md-toolbar class="md-warn">
      <div class="md-toolbar-tools">
          <span class="md-title" flex>{{roleInfo.role_name == undefined ? 'Role' : roleInfo.role_name}} Detail</span>
      </div>
    </md-toolbar>
    <md-dialog-content >
      <div class="md-dialog-content" layout="column" flex ng-init="loadConfig()">
        <md-input-container class="md-block md-subheader" flex>
          <label>Name</label>
          <input required ng-model="roleInfo.role_name" name="role_name">
          <div ng-messages="roleDetail.role_name.$error">
          <div ng-message="required">This is required.</div></div>
        </md-input-container>
        <div layout="column" flex layout-wrapping>
           <span flex class="md-title">Authorization</span>
          <!--<div flex layout="row">
            <span flex>Autho</span>
            <span ng-repeat="name in controls" flex>{{name.config_value | limitTo : 1 : 0}}</span>
          </div> -->
          <md-content ng-repeat="menu in menus" flex layout="row">
            <md-button ng-click="clickedAll(menu, permissionSelected)"><span flex>{{menu.config_value}}</span></md-button>
            <div flex layout="row" layout-align="center center">
              <md-checkbox ng-repeat="control in controls" aria-label="control.config_value"
              name="control.config_value"  class="margin-fifteen"
              ng-checked="checkedPermission(control, menu, permissionSelected)" ng-click="clickedPermission(control, menu, permissionSelected)">
              {{control.config_value | uppercase}}
              </md-checkbox>
            </div>
          </md-content>
        </div>
        <md-checkbox aria-label="role_active" name="role_status"
        ng-model="roleInfo.role_status" ng-click="changeActive(roleInfo.role_status)">
          Active
        </md-checkbox>
      </div>
    </md-dialog-content>
    <md-dialog-actions layout="row">
      <span flex>&nbsp;</span>
      <md-button ng-click="cancel();">Cancel</md-button>
      <md-button class="md-primary" ng-click="buttonAction == 'save' ? create() : update() ">{{buttonAction}}</md-button>
    </md-dilaog-actions>
  </form>
</md-dialog>
